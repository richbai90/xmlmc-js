"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Request_1 = require("../Request");
class System {
    constructor(connection, xmlmc) {
        this.connection = connection;
        this.xmlmc = xmlmc;
        this.service = 'system';
        this.paramMap = new Map([['getTimezoneDetails', ['timeZone',]], ['getTimezoneOffset', ['timeZone',]], ['multiClipAddItem', ['personalClipboard', 'name', 'itemData', 'multiClipGroup',]], ['multiClipDeleteItem', ['itemId',]], ['multiClipGetItemData', ['itemId',]], ['multiClipSetItemData', ['itemId', 'itemData',]], ['offsetEpochTime', ['epochTime', 'timeZone',]], ['sendProductFeedback', ['app', 'message', 'nps',]],]);
    }
    getFileTypeRestriction(optionalParams) {
        let request = new Request_1.Request(this.service, 'getFileTypeRestriction', (optionalParams || {}), this.paramMap.get('getFileTypeRestriction') || []);
        return this.connection.sendRequest(request);
    }
    getSystemInfo(optionalParams) {
        let request = new Request_1.Request(this.service, 'getSystemInfo', (optionalParams || {}), this.paramMap.get('getSystemInfo') || []);
        return this.connection.sendRequest(request);
    }
    getTimezoneDetails(optionalParams) {
        let request = new Request_1.Request(this.service, 'getTimezoneDetails', (optionalParams || {}), this.paramMap.get('getTimezoneDetails') || []);
        return this.connection.sendRequest(request);
    }
    getTimezoneList(optionalParams) {
        let request = new Request_1.Request(this.service, 'getTimezoneList', (optionalParams || {}), this.paramMap.get('getTimezoneList') || []);
        return this.connection.sendRequest(request);
    }
    getTimezoneOffset(optionalParams) {
        let request = new Request_1.Request(this.service, 'getTimezoneOffset', (optionalParams || {}), this.paramMap.get('getTimezoneOffset') || []);
        return this.connection.sendRequest(request);
    }
    multiClipAddItem(personalClipboard, name, itemData, optionalParams) {
        let request = new Request_1.Request(this.service, 'multiClipAddItem', Object.assign({}, {
            personalClipboard,
            name,
            itemData
        }, optionalParams || {}), this.paramMap.get('multiClipAddItem') || []);
        return this.connection.sendRequest(request);
    }
    multiClipDeleteItem(itemId, optionalParams) {
        let request = new Request_1.Request(this.service, 'multiClipDeleteItem', Object.assign({}, { itemId }, optionalParams || {}), this.paramMap.get('multiClipDeleteItem') || []);
        return this.connection.sendRequest(request);
    }
    multiClipGetItemData(itemId, optionalParams) {
        let request = new Request_1.Request(this.service, 'multiClipGetItemData', Object.assign({}, { itemId }, optionalParams || {}), this.paramMap.get('multiClipGetItemData') || []);
        return this.connection.sendRequest(request);
    }
    multiClipGetTree(optionalParams) {
        let request = new Request_1.Request(this.service, 'multiClipGetTree', (optionalParams || {}), this.paramMap.get('multiClipGetTree') || []);
        return this.connection.sendRequest(request);
    }
    multiClipSetItemData(itemId, itemData, optionalParams) {
        let request = new Request_1.Request(this.service, 'multiClipSetItemData', Object.assign({}, {
            itemId,
            itemData
        }, optionalParams || {}), this.paramMap.get('multiClipSetItemData') || []);
        return this.connection.sendRequest(request);
    }
    offsetEpochTime(epochTime, optionalParams) {
        let request = new Request_1.Request(this.service, 'offsetEpochTime', Object.assign({}, { epochTime }, optionalParams || {}), this.paramMap.get('offsetEpochTime') || []);
        return this.connection.sendRequest(request);
    }
    sendProductFeedback(message, optionalParams) {
        let request = new Request_1.Request(this.service, 'sendProductFeedback', Object.assign({}, { message }, optionalParams || {}), this.paramMap.get('sendProductFeedback') || []);
        return this.connection.sendRequest(request);
    }
}
exports.System = System;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3lzdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NlcnZpY2VzL1N5c3RlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLHdDQUFrQztBQUU5QjtJQU1JLFlBQVksVUFBc0IsRUFBRSxLQUFZO1FBQzVDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLG9CQUFvQixFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsbUJBQW1CLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0YSxDQUFDO0lBRUQsc0JBQXNCLENBQUMsY0FBd0Q7UUFDM0UsSUFBSSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsd0JBQXdCLEVBQWUsQ0FBQyxjQUFjLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMs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QUFDLFNBQWlCLEVBQUUsY0FBaUQ7UUFDaEYsSUFBSSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLEVBQWUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBQyxTQUFTLEVBQUMsRUFBRSxjQUFjLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUMxSyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUVELG1CQUFtQixDQUFDLE9BQWUsRUFBRSxjQUFxRDtRQUN0RixJQUFJLE9BQU8sR0FBRyxJQUFJLGlCQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBZSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLGNBQWMsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2hMLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUMvQyxDQUFDO0NBQ0o7QUEvRUQsd0JBK0VDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcGFyYW1UeXBlcyBmcm9tICcuLi90eXBlcy9TeXN0ZW1UeXBlcydcbmltcG9ydCB7QXhpb3NFcnJvciwgQXhpb3NSZXNwb25zZX0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQge1htbG1jUGFyYW1zfSBmcm9tIFwiLi4vdHlwZXMvWG1sbWNUeXBlc1wiO1xuaW1wb3J0IHtDb25uZWN0aW9uLCBYbWxtY1Jlc3BvbnNlfSBmcm9tICcuLi9Db25uZWN0aW9uJ1xuaW1wb3J0IFhtbG1jIGZyb20gJy4uL1htbE1ldGhvZENhbGwnXG5pbXBvcnQge1JlcXVlc3R9IGZyb20gJy4uL1JlcXVlc3QnXG5cbiAgICBleHBvcnQgY2xhc3MgU3lzdGVtIHtcbiAgICAgICAgcHJpdmF0ZSBjb25uZWN0aW9uOiBDb25uZWN0aW9uO1xuICAgICAgICBwcml2YXRlIHhtbG1jOiBYbWxtYztcbiAgICAgICAgcHJpdmF0ZSBzZXJ2aWNlOiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgcGFyYW1NYXA6IE1hcDxzdHJpbmcsIEFycmF5PHN0cmluZz4+O1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb246IENvbm5lY3Rpb24sIHhtbG1jOiBYbWxtYykge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIHRoaXMueG1sbWMgPSB4bWxtYztcbiAgICAgICAgICAgIHRoaXMuc2VydmljZSA9ICdzeXN0ZW0nO1xuICAgICAgICAgICAgdGhpcy5wYXJhbU1hcCA9IG5ldyBNYXAoW1snZ2V0VGltZXpvbmVEZXRhaWxzJywgWyd0aW1lWm9uZScsXV0sIFsnZ2V0VGltZXpvbmVPZmZzZXQnLCBbJ3RpbWVab25lJyxdXSwgWydtdWx0aUNsaXBBZGRJdGVtJywgWydwZXJzb25hbENsaXBib2FyZCcsICduYW1lJywgJ2l0ZW1EYXRhJywgJ211bHRpQ2xpcEdyb3VwJyxdXSwgWydtdWx0aUNsaXBEZWxldGVJdGVtJywgWydpdGVtSWQnLF1dLCBbJ211bHRpQ2xpcEdldEl0ZW1EYXRhJywgWydpdGVtSWQnLF1dLCBbJ211bHRpQ2xpcFNldEl0ZW1EYXRhJywgWydpdGVtSWQnLCAnaXRlbURhdGEnLF1dLCBbJ29mZnNldEVwb2NoVGltZScsIFsnZXBvY2hUaW1lJywgJ3RpbWVab25lJyxdXSwgWydzZW5kUHJvZHVjdEZlZWRiYWNrJywgWydhcHAnLCAnbWVzc2FnZScsICducHMnLF1dLF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0RmlsZVR5cGVSZXN0cmljdGlvbihvcHRpb25hbFBhcmFtcz86IHBhcmFtVHlwZXMuZ2V0RmlsZVR5cGVSZXN0cmljdGlvblBhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdnZXRGaWxlVHlwZVJlc3RyaWN0aW9uJywgPFhtbG1jUGFyYW1zPihvcHRpb25hbFBhcmFtcyB8fCB7fSksIHRoaXMucGFyYW1NYXAuZ2V0KCdnZXRGaWxlVHlwZVJlc3RyaWN0aW9uJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0U3lzdGVtSW5mbyhvcHRpb25hbFBhcmFtcz86IHBhcmFtVHlwZXMuZ2V0U3lzdGVtSW5mb1BhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdnZXRTeXN0ZW1JbmZvJywgPFhtbG1jUGFyYW1zPihvcHRpb25hbFBhcmFtcyB8fCB7fSksIHRoaXMucGFyYW1NYXAuZ2V0KCdnZXRTeXN0ZW1JbmZvJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0VGltZXpvbmVEZXRhaWxzKG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5nZXRUaW1lem9uZURldGFpbHNQYXJhbXMpOiBQcm9taXNlPFhtbG1jUmVzcG9uc2U+IHtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodGhpcy5zZXJ2aWNlLCAnZ2V0VGltZXpvbmVEZXRhaWxzJywgPFhtbG1jUGFyYW1zPihvcHRpb25hbFBhcmFtcyB8fCB7fSksIHRoaXMucGFyYW1NYXAuZ2V0KCdnZXRUaW1lem9uZURldGFpbHMnKSB8fCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgIH1cblxuICAgICAgICBnZXRUaW1lem9uZUxpc3Qob3B0aW9uYWxQYXJhbXM/OiBwYXJhbVR5cGVzLmdldFRpbWV6b25lTGlzdFBhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdnZXRUaW1lem9uZUxpc3QnLCA8WG1sbWNQYXJhbXM+KG9wdGlvbmFsUGFyYW1zIHx8IHt9KSwgdGhpcy5wYXJhbU1hcC5nZXQoJ2dldFRpbWV6b25lTGlzdCcpIHx8IFtdKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2VuZFJlcXVlc3QocmVxdWVzdClcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFRpbWV6b25lT2Zmc2V0KG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5nZXRUaW1lem9uZU9mZnNldFBhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdnZXRUaW1lem9uZU9mZnNldCcsIDxYbWxtY1BhcmFtcz4ob3B0aW9uYWxQYXJhbXMgfHwge30pLCB0aGlzLnBhcmFtTWFwLmdldCgnZ2V0VGltZXpvbmVPZmZzZXQnKSB8fCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aUNsaXBBZGRJdGVtKHBlcnNvbmFsQ2xpcGJvYXJkOiBib29sZWFuLCBuYW1lOiBzdHJpbmcsIGl0ZW1EYXRhOiBzdHJpbmcsIG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5tdWx0aUNsaXBBZGRJdGVtUGFyYW1zKTogUHJvbWlzZTxYbWxtY1Jlc3BvbnNlPiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMuc2VydmljZSwgJ211bHRpQ2xpcEFkZEl0ZW0nLCA8WG1sbWNQYXJhbXM+T2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgICAgIHBlcnNvbmFsQ2xpcGJvYXJkLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgaXRlbURhdGFcbiAgICAgICAgICAgIH0sIG9wdGlvbmFsUGFyYW1zIHx8IHt9KSwgdGhpcy5wYXJhbU1hcC5nZXQoJ211bHRpQ2xpcEFkZEl0ZW0nKSB8fCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aUNsaXBEZWxldGVJdGVtKGl0ZW1JZDogT2JqZWN0LCBvcHRpb25hbFBhcmFtcz86IHBhcmFtVHlwZXMubXVsdGlDbGlwRGVsZXRlSXRlbVBhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdtdWx0aUNsaXBEZWxldGVJdGVtJywgPFhtbG1jUGFyYW1zPk9iamVjdC5hc3NpZ24oe30sIHtpdGVtSWR9LCBvcHRpb25hbFBhcmFtcyB8fCB7fSksIHRoaXMucGFyYW1NYXAuZ2V0KCdtdWx0aUNsaXBEZWxldGVJdGVtJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgbXVsdGlDbGlwR2V0SXRlbURhdGEoaXRlbUlkOiBudW1iZXIsIG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5tdWx0aUNsaXBHZXRJdGVtRGF0YVBhcmFtcyk6IFByb21pc2U8WG1sbWNSZXNwb25zZT4ge1xuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh0aGlzLnNlcnZpY2UsICdtdWx0aUNsaXBHZXRJdGVtRGF0YScsIDxYbWxtY1BhcmFtcz5PYmplY3QuYXNzaWduKHt9LCB7aXRlbUlkfSwgb3B0aW9uYWxQYXJhbXMgfHwge30pLCB0aGlzLnBhcmFtTWFwLmdldCgnbXVsdGlDbGlwR2V0SXRlbURhdGEnKSB8fCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aUNsaXBHZXRUcmVlKG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5tdWx0aUNsaXBHZXRUcmVlUGFyYW1zKTogUHJvbWlzZTxYbWxtY1Jlc3BvbnNlPiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMuc2VydmljZSwgJ211bHRpQ2xpcEdldFRyZWUnLCA8WG1sbWNQYXJhbXM+KG9wdGlvbmFsUGFyYW1zIHx8IHt9KSwgdGhpcy5wYXJhbU1hcC5nZXQoJ211bHRpQ2xpcEdldFRyZWUnKSB8fCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICAgIH1cblxuICAgICAgICBtdWx0aUNsaXBTZXRJdGVtRGF0YShpdGVtSWQ6IE9iamVjdCwgaXRlbURhdGE6IHN0cmluZywgb3B0aW9uYWxQYXJhbXM/OiBwYXJhbVR5cGVzLm11bHRpQ2xpcFNldEl0ZW1EYXRhUGFyYW1zKTogUHJvbWlzZTxYbWxtY1Jlc3BvbnNlPiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMuc2VydmljZSwgJ211bHRpQ2xpcFNldEl0ZW1EYXRhJywgPFhtbG1jUGFyYW1zPk9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICAgICAgaXRlbURhdGFcbiAgICAgICAgICAgIH0sIG9wdGlvbmFsUGFyYW1zIHx8IHt9KSwgdGhpcy5wYXJhbU1hcC5nZXQoJ211bHRpQ2xpcFNldEl0ZW1EYXRhJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0RXBvY2hUaW1lKGVwb2NoVGltZTogbnVtYmVyLCBvcHRpb25hbFBhcmFtcz86IHBhcmFtVHlwZXMub2Zmc2V0RXBvY2hUaW1lUGFyYW1zKTogUHJvbWlzZTxYbWxtY1Jlc3BvbnNlPiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMuc2VydmljZSwgJ29mZnNldEVwb2NoVGltZScsIDxYbWxtY1BhcmFtcz5PYmplY3QuYXNzaWduKHt9LCB7ZXBvY2hUaW1lfSwgb3B0aW9uYWxQYXJhbXMgfHwge30pLCB0aGlzLnBhcmFtTWFwLmdldCgnb2Zmc2V0RXBvY2hUaW1lJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgc2VuZFByb2R1Y3RGZWVkYmFjayhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbmFsUGFyYW1zPzogcGFyYW1UeXBlcy5zZW5kUHJvZHVjdEZlZWRiYWNrUGFyYW1zKTogUHJvbWlzZTxYbWxtY1Jlc3BvbnNlPiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMuc2VydmljZSwgJ3NlbmRQcm9kdWN0RmVlZGJhY2snLCA8WG1sbWNQYXJhbXM+T2JqZWN0LmFzc2lnbih7fSwge21lc3NhZ2V9LCBvcHRpb25hbFBhcmFtcyB8fCB7fSksIHRoaXMucGFyYW1NYXAuZ2V0KCdzZW5kUHJvZHVjdEZlZWRiYWNrJykgfHwgW10pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kUmVxdWVzdChyZXF1ZXN0KVxuICAgICAgICB9XG4gICAgfVxuXG4iXX0=